---
import Layout from '../layouts/Layout.astro'
import { getCollection } from 'astro:content'
import Breadcrumb from 'components/global/Breadcrumb.astro'
import { Image } from 'astro:assets'

const projects = await getCollection('projects')
---

<Layout title="Avior.me - Developpement de solutions selon vos besoins">
	<div class="container">
		<Breadcrumb items={[{ text: 'Accueil', href: '/' }, { text: 'Projets' }]} />
		<main class="grid grid-cols-3 gap-4">
			{projects.map((it) => (
				<a href={`/projets/${it.slug}`} class="flex flex-col gap-4">
					{it.data.image && (
						<Image src={it.data.image} alt="" />
					)}
					<p>{it.data.title}</p>
				</a>
			))}
		</main>
	</div>
</Layout>
